

DONE:
- Initial app setup (Next.js, TypeScript, ShadCN UI, Tailwind CSS, Firebase, Genkit)
- Homepage: Layout, feature navigation cards (consolidated "Game Tools"), footer with links.
- Character Sheet:
    - Base stat tracking (HP, Sanity, MV, DEF) with interactive controls.
    - Crypto Tracker: Added persistent crypto tracking (default 0, user adjustable).
    - Bleed Points Tracker: Added persistent bleed points tracking (default 0, user adjustable, with Hemorrhage warning).
    - Skill display and point-buy system for Custom Characters.
    - Abilities display (Actions, Interrupts, Passives, FREE Actions) with cooldown/quantity trackers.
    - Custom Character ability purchase system.
    - Weapon display (melee & ranged).
    - Arsenal Card selection and display (including images).
    - Application of global stat modifiers from Arsenal Cards.
    - Display of Arsenal item components (Load Out, Bonus, Elite).
    - Dynamic equipping of weapons from Arsenal Card items.
    - Dynamic granting of abilities from Arsenal Card items.
    - Companion (Pet) display with interactive stats (HP, Sanity, MV, DEF) and melee attack, derived from Arsenal Card items.
    - Firebase Firestore integration for saving/loading character configurations for logged-in users.
    - Updated character images for predefined characters.
    - Core Stats section mobile layout refined.
- Dice Roller:
    - Numbered dice rolling (multiple groups, custom sides).
    - Combat dice rolling (image-based faces).
    - Roll history.
- Card Generator:
    - Deck selection (Event, Item, Madness, Clash, Combat).
    - Random card drawing and display.
    - Card history.
    - "Held Cards" functionality for holdable cards.
- Events Page (Random Event Generator):
    - Data fetched from Google Sheets.
    - Random event generation based on selected color or random type (Any, Chaos, Order).
    - Display of drawn event with thematic background image.
    - History of previously drawn events.
- NPC Generator Page (formerly Investigations):
    - Data fetched from Google Sheets.
    - Random NPC encounter generation based on selected "Location Color" and 1d6 roll.
- Item List Page:
    - Placeholder UI, currently empty.
- Whispers & Wares (Shop):
    - UI with tabbed categories (Defense, Melee Weapon, Ranged Weapon, Augment, Utility, Consumable, Relic).
    - Utility sub-categories.
    - Display of item details (cost, description, stats, charges, etc.).
    - Simulated "Crypto" currency tracker (client-side state).
    - Simulated purchasing logic (deducts Crypto, updates stock for consumables).
    - Item data now fetched from Google Sheets instead of hardcoded.
    - Removed AI image generation button from shop UI (flow still exists).
- AI Item Generator:
    - Genkit flow for generating game items (name, type, lore, game effect, rarity).
    - UI for user input (item type, theme, rarity, stat focus, lore context).
    - Display of generated item.
    - Shop items (from Google Sheet) used as examples for the AI.
    - Reinforced prompt to strictly use RotB rules and avoid D&D elements.
    - Added "Lore Context" input field to allow users to paste relevant text excerpts.
- User Profile Page:
    - Firebase Authentication (Email/Password Sign Up, Log In, Log Out).
    - Edit display name.
    - Upload and change profile picture (Firebase Storage).
    - "Change Password" (sends reset email).
    - Manage Saved Characters: List, Load, Rename, Duplicate, Delete saved characters.
    - Set/Unset Default Character preference (saved to Firestore).
    - Simulated friends list.
- Shared Space Page:
    - Simulated access code UI for joining a session.
- Hunter's Nexus Page:
    - Session-based character management UI.
    - Stat tracking with session modifiers (HP, Sanity, MV, DEF).
    - Session Crypto Tracker: Added crypto tracking (default 0, user adjustable, shown on main page and in character modal).
    - Arsenal and equipment display.
    - Integrated dice roller and card generator.
    - Character avatar and arsenal card image modals.
    - Modal for character details (stats, weapons, abilities, skills).
    - Save Nexus Session: Logged-in users can save their current Nexus session state to Firestore.
    - Load/Delete Nexus Session: Functionality added to settings dropdown.
    - Reset Nexus Session: Functionality added to settings dropdown.
- FAQ Page:
    - Content for App Questions and Board Game Concepts using accordion.
- Terms of Service Page (`/terms`):
    - Basic placeholder page created.
- Privacy Policy Page (`/privacy`):
    - Basic placeholder page created.
- Sidebar Navigation:
    - Links to all major features.
    - Mobile-responsive (Sheet-based).
    - "Game Tools" items grouped under a dropdown.
    - "Future Features" dropdown added; AI Item Generator and NPC Generator moved there and greyed out.
- Mobile Optimizations:
    - Homepage feature card layout (vertical scrollable window).
    - Character Sheet tabs and header.
- Rulebook Data Ingestion: Received and stored game rules in `docs/game-rules.md`.
- Numerous bug fixes and UI refinements (hydration errors, reference errors, build errors, styling adjustments, hook order issues, accessibility fixes for dialogs, shop item category parsing, Firestore permissions for Nexus saves, 404 errors for /terms & /privacy).

WORKING:
- Ongoing review and minor clean-up of existing codebase.

NEXT:
- Implement full "Gear and Equipment" system based on rulebook:
    - Character inventory system.
    - Equipment slots on Character Sheet UI.
    - Logic for equipping/unequipping individual items (Gear, Utility, Augments, Consumables).
    - Dynamic stat/ability updates based on equipped items.
- Integrate combat rules into a basic combat UI/tracker.
- Develop "Shared Space" with real-time collaboration features (Firebase).
- Populate "Item List" page with actual game items (from rulebook or new data source, potentially shop sheet).
- Expand Genkit AI integrations:
    - Dynamic NPC dialogue generation.
    - AI-assisted event or NPC detail generation.
    - Persist AI-generated shop item images.
- Add a bestiary/monster manual section.
- Implement game rule references or a digital rulebook section.
- Implement Hunter's Nexus "Session Display Preferences" (toggle tool visibility, compact mode).
- Further mobile optimization for all pages (Dice Roller, Card Generator, Events, NPC Generator, Shop, Profile, etc.).
- Caching strategies for Google Sheet data to improve performance in production.
- Address any remaining warnings from the build process (e.g., related to Handlebars, OpenTelemetry if not critical).
- Refine UI/UX across all pages based on testing.
      
    